<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Spatial info of a unitcell · QuantumLattices.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-89508993-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-89508993-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../../assets/warner.js"></script><link rel="canonical" href="https://quantum-many-body.github.io/QuantumLattices.jl/latest/tutorials/UnitcellDescription/SpatialInfoOfAUnitcell/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="QuantumLattices.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">QuantumLattices.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Unitcell Description</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Introduction/">Introduction</a></li><li class="is-active"><a class="tocitem" href>Spatial info of a unitcell</a><ul class="internal"><li><a class="tocitem" href="#Point"><span>Point</span></a></li><li><a class="tocitem" href="#Lattice"><span>Lattice</span></a></li><li><a class="tocitem" href="#Bonds"><span>Bonds</span></a></li></ul></li><li><a class="tocitem" href="../InternalDegreesOfFreedom/">Internal degrees of freedom</a></li><li><a class="tocitem" href="../CouplingsAmongDifferentDegreesOfFreedom/">Couplings among different degrees of freedom</a></li><li><a class="tocitem" href="../GeneratorOfOperators/">Generator of operators</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Engine App Interface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EngineAppInterface/Introduction/">Introduction</a></li></ul></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../../man/Interfaces/">Interfaces</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Prerequisites</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../man/Prerequisites/Introduction/">Introduction</a></li><li><a class="tocitem" href="../../../man/Prerequisites/Combinatorics/">Combinatorics</a></li><li><a class="tocitem" href="../../../man/Prerequisites/Traits/">Traits</a></li><li><a class="tocitem" href="../../../man/Prerequisites/CompositeStructures/">Composite structures</a></li><li><a class="tocitem" href="../../../man/Prerequisites/SimpleTrees/">Simple trees</a></li><li><a class="tocitem" href="../../../man/Prerequisites/NamedVectors/">Named vectors</a></li><li><a class="tocitem" href="../../../man/Prerequisites/VectorSpaces/">Vector spaces</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Essentials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../man/Essentials/Introduction/">Introduction</a></li><li><a class="tocitem" href="../../../man/Essentials/QuantumOperators/">Quantum operators</a></li><li><a class="tocitem" href="../../../man/Essentials/QuantumNumbers/">Quantum numbers</a></li><li><a class="tocitem" href="../../../man/Essentials/Spatials/">Spatials</a></li><li><a class="tocitem" href="../../../man/Essentials/DegreesOfFreedom/">Degrees of freedom</a></li><li><a class="tocitem" href="../../../man/Essentials/QuantumSystems/">Quantum Systems</a></li><li><a class="tocitem" href="../../../man/Essentials/Frameworks/">Frameworks</a></li></ul></li></ul></li><li><span class="tocitem">Developer Documentation</span><ul><li><a class="tocitem" href="../../../developer/CodeStyle/">Code style guide</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Unitcell Description</a></li><li class="is-active"><a href>Spatial info of a unitcell</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Spatial info of a unitcell</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Quantum-Many-Body/QuantumLattices.jl/blob/master/docs/src/tutorials/UnitcellDescription/SpatialInfoOfAUnitcell.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Spatial-info-of-a-unitcell"><a class="docs-heading-anchor" href="#Spatial-info-of-a-unitcell">Spatial info of a unitcell</a><a id="Spatial-info-of-a-unitcell-1"></a><a class="docs-heading-anchor-permalink" href="#Spatial-info-of-a-unitcell" title="Permalink"></a></h1><p>The first step toward the complete description of a quantum lattice system is the understanding of the spatial info of a unitcell.</p><h2 id="Point"><a class="docs-heading-anchor" href="#Point">Point</a><a id="Point-1"></a><a class="docs-heading-anchor-permalink" href="#Point" title="Permalink"></a></h2><p>The basic data structure encoding the spatial info of a unitcell is <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Point"><code>Point</code></a>.</p><p>Theoretically, the only information that is needed to determine a point in a lattice is its coordinates in the real space. Now that coordinates sometimes are complicated real numbers and are not convenient for lookup, it is desirable to attach to each point with a sensible id. Then you may agree that the most appropriate data structure representing a point should contain two parts, the id part and the coordinate part. But the story does not end up here. This is because we want to compress the whole spatial info of a lattice into its unitcells. For each lattice, there exists a freedom to choose its unitcells. Sometimes we even need enlarged unitcells. Therefore, something must be adopted to keep the info of which unitcell a point belongs to in the lattice. This information is useful even when we only keep the data of points within a single unitcell because at this time we usually have to obtain those bonds across the unitcell boundaries that must contain a point in other unitcells. Now we arrive at the final structure, just as the <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Point"><code>Point</code></a> defined in this package, which has three attributes:</p><ul><li><code>pid::</code><a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.PID"><code>PID</code></a>: the id of a point</li><li><code>rcoord::</code><a href="https://github.com/JuliaArrays/StaticArrays.jl"><code>StaticArrays.SVector</code></a>: the coordinates of the point in the real space</li><li><code>icoord::</code><a href="https://github.com/JuliaArrays/StaticArrays.jl"><code>StaticArrays.SVector</code></a>: the coordinates of the unitcell the point belongs to in the real space</li></ul><p>Here <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.PID"><code>PID</code></a> contains only one attribute:</p><ul><li><code>site::Int</code>: the site index of a point</li></ul><p>Let&#39;s see some examples.</p><p>The <code>:site</code> attribute should be specified during the initialization of a <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.PID"><code>PID</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; PID(1)
PID(1)</code></pre><p>At the construction of a <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Point"><code>Point</code></a>, <code>:rcoord</code> and <code>:icoord</code> can accept tuples or usual vectors as inputs, such as</p><pre><code class="language-julia-repl hljs">julia&gt; Point(PID(1), (0.0,), (0.0,))
Point(PID(1), [0.0], [0.0])

julia&gt; Point(PID(1), [0.0], [0.0])
Point(PID(1), [0.0], [0.0])</code></pre><p>If the <code>:icoord</code> is omitted, it will be initialized by a zero <a href="https://github.com/JuliaArrays/StaticArrays.jl"><code>StaticArrays.SVector</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; Point(PID(1), [0.0])
Point(PID(1), [0.0], [0.0])</code></pre><h2 id="Lattice"><a class="docs-heading-anchor" href="#Lattice">Lattice</a><a id="Lattice-1"></a><a class="docs-heading-anchor-permalink" href="#Lattice" title="Permalink"></a></h2><p><a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Lattice"><code>Lattice</code></a> is the simplest structure to encode all the spatial info within a unitcell. Apparently, it must contain all the points of a unitcell. Besides, a unitcell can assume either open or periodic boundary for every spatial dimension, thus a <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Lattice"><code>Lattice</code></a> should also contain the translation vectors. Other stuff also appears to be useful, such as the name, the reciprocals dual to the translation vectors, and the bond length of each order of nearest neighbors. Therefore, in this package, <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Lattice"><code>Lattice</code></a> gets seven attributes:</p><ul><li><code>name::Symbol</code>: the name of the lattice</li><li><code>pids::Vector{PID}</code>: the pids of the lattice</li><li><code>rcoords::Matrix{Float64}</code>: the rcoords of the lattice</li><li><code>icoords::Matrix{Float64}</code>: the icoords of the lattice</li><li><code>vectors::Vector{&lt;:StaticArrays.SVector}</code>: the translation vectors of the lattice</li><li><code>reciprocals::Vector{&lt;:StaticArrays.SVector}</code>: the reciprocals of the lattice</li><li><code>neighbors::Dict{Int, Float64}</code>: the order-distance map of the nearest neighbors of the lattice</li></ul><p>Here, the <code>:pids</code>, <code>:rcoords</code> and <code>:icoords</code> attributes decompose the points in a lattice, which makes it convenient for global operations on the lattice.</p><p>Points can be used directly to construct a lattice, whereas <code>:vectors</code> and <code>:neighbors</code> can be assigned by keyword arguments:</p><pre><code class="language-julia-repl hljs">julia&gt; Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])],
           vectors=[[2.0]],
           neighbors=Dict(1=&gt;1.0, 2=&gt;2.0)
           )
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 translation vector:
    [2.0]
  with 2 orders of nearest neighbors:
    2 =&gt; 2.0
    1 =&gt; 1.0</code></pre><p>The <code>:neighbors</code> keyword argument can also be a natural number, which sets the highest order of nearest neighbors, and the order-distance map of nearest neighbors can be computed automatically by the construction function:</p><pre><code class="language-julia-repl hljs">julia&gt; Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])],
           vectors=[[2.0]],
           neighbors=2
           )
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 translation vector:
    [2.0]
  with 2 orders of nearest neighbors:
    2 =&gt; 2.0
    1 =&gt; 1.0</code></pre><p>It is noted that the <code>:vectors</code> and <code>:neighbors</code> attributes can also be omitted at the initialization, then <code>:vectors</code> will be set to be empty and <code>:neighbors</code> to be 1 upon the call of the construction function:</p><pre><code class="language-julia-repl hljs">julia&gt; Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])])
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 order of nearest neighbors:
    1 =&gt; 1.0</code></pre><p>In all cases, the <code>:reciprocals</code> attributes need not be assigned because it can be deduced from the input <code>:vectors</code>.</p><h2 id="Bonds"><a class="docs-heading-anchor" href="#Bonds">Bonds</a><a id="Bonds-1"></a><a class="docs-heading-anchor-permalink" href="#Bonds" title="Permalink"></a></h2><p>One of the most important functions of a lattice is to inquiry the bonds it contains.</p><p>A usual bond contains two points, the start point and the end point. This structure is implemented as <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bond"><code>Bond</code></a>, which has three attributes:</p><ul><li><code>neighbor::Int</code>: the nearest neighbor order of the bond</li><li><code>spoint::Point</code>: the start point of the bond</li><li><code>epoint::Point</code>: the end point of the bond</li></ul><p>The <code>:neighbor</code> attribute provides the a priori info of the nearest neighbor order of a bond, which proves to be quite advantageous in future uses.</p><p>There are other types of generalized bonds. In fact, a single point can also be viewed as a kind of bond, namely, the zeroth order nearest neighbor bond. We can also have more complex generalized bonds, such as a plaquette (the minimum four-site square) in the square lattice. All these generalized bonds gather under the abstract type, <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.AbstractBond"><code>AbstractBond</code></a>, and the generation from a lattice of such generalized bonds can be managed by the type <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bonds"><code>Bonds</code></a>. In this package, we only implement two types of concrete generalized bonds, i.e. <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Point"><code>Point</code></a> and <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bond"><code>Bond</code></a>. Users interested in other types can define them themselves by extending our protocols. In this way, the management of the generation of these user extended bonds can be utilized by <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bonds"><code>Bonds</code></a> without extra modifications. See <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bonds"><code>Bonds</code></a> for more details.</p><p>Now let&#39;s see a simple example:</p><pre><code class="language-julia-repl hljs">julia&gt; lattice = Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])],
           vectors=[[2.0]],
           neighbors=2
           )
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 translation vector:
    [2.0]
  with 2 orders of nearest neighbors:
    2 =&gt; 2.0
    1 =&gt; 1.0

julia&gt; Bonds(lattice)
6-element Bonds:
 Point(PID(1), [0.0], [0.0])
 Point(PID(2), [1.0], [0.0])
 Bond(1, Point(PID(1), [0.0], [0.0]), Point(PID(2), [1.0], [0.0]))
 Bond(2, Point(PID(1), [0.0], [0.0]), Point(PID(1), [-2.0], [-2.0]))
 Bond(1, Point(PID(1), [0.0], [0.0]), Point(PID(2), [-1.0], [-2.0]))
 Bond(2, Point(PID(2), [1.0], [0.0]), Point(PID(2), [-1.0], [-2.0]))</code></pre><p>By default, <code>Bonds(lattice::Lattice)</code> generates all the generalized bonds with orders of nearest neighbors specified by the attribute <code>:neighbors</code> of the input lattice, including the individual points and the bonds across the periodic boundaries. Note that the bonds whose lengths are not present in the <code>:neighbors</code> attribute of the input lattice won&#39;t be included in the result, even when their lengths are shorter:</p><pre><code class="language-julia-repl hljs">julia&gt; lattice = Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])],
           vectors=[[2.0]],
           neighbors=Dict(2=&gt;2.0)
           )
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 translation vector:
    [2.0]
  with 1 order of nearest neighbors:
    2 =&gt; 2.0

julia&gt; Bonds(lattice)
4-element Bonds:
 Point(PID(1), [0.0], [0.0])
 Point(PID(2), [1.0], [0.0])
 Bond(2, Point(PID(1), [0.0], [0.0]), Point(PID(1), [-2.0], [-2.0]))
 Bond(2, Point(PID(2), [1.0], [0.0]), Point(PID(2), [-1.0], [-2.0]))</code></pre><p>In other words, the <code>:neighbors</code> attribute can be viewed as a filter of the generated bonds (but this filter only affects the <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Bond"><code>Bond</code></a> typed but not the <a href="../../../man/Essentials/Spatials/#QuantumLattices.Essentials.Spatials.Point"><code>Point</code></a> typed generalized bonds). When the input lattice has no translation vectors, the generated bonds will only contain the individual points and the intra-unitcell bonds, just as expected:</p><pre><code class="language-julia-repl hljs">julia&gt; lattice = Lattice(:L2P, [Point(PID(1), [0.0]), Point(PID(2), [1.0])])
Lattice(L2P)
  with 2 points:
    Point(PID(1), [0.0], [0.0])
    Point(PID(2), [1.0], [0.0])
  with 1 order of nearest neighbors:
    1 =&gt; 1.0

julia&gt; Bonds(lattice)
3-element Bonds:
 Point(PID(1), [0.0], [0.0])
 Point(PID(2), [1.0], [0.0])
 Bond(1, Point(PID(1), [0.0], [0.0]), Point(PID(2), [1.0], [0.0]))</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Introduction/">« Introduction</a><a class="docs-footer-nextpage" href="../InternalDegreesOfFreedom/">Internal degrees of freedom »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Tuesday 23 August 2022 04:02">Tuesday 23 August 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
